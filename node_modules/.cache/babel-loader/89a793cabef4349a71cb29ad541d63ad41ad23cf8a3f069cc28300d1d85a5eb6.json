{"ast":null,"code":"import _regeneratorRuntime from\"D:/3rd Year 1st Sem/DocClickConnect/appointment/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/3rd Year 1st Sem/DocClickConnect/appointment/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/3rd Year 1st Sem/DocClickConnect/appointment/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import\"../styles/Profile.css\";import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PatientNavBar=function PatientNavBar(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),message=_useState2[0],setMessage=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),user=_useState4[0],setUser=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isError=_useState6[0],setIsError=_useState6[1];useEffect(function(){fetchUser();},[]);var fetchUser=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"http://localhost:8080/patientprofile\");case 3:response=_context.sent;if(!response.ok){_context.next=11;break;}_context.next=7;return response.json();case 7:data=_context.sent;setUser(data);_context.next=12;break;case 11:setIsError(true);case 12:_context.next=18;break;case 14:_context.prev=14;_context.t0=_context[\"catch\"](0);console.error('Error fetching user:',_context.t0);setIsError(true);case 18:case\"end\":return _context.stop();}},_callee,null,[[0,14]]);}));return function fetchUser(){return _ref.apply(this,arguments);};}();var handleLogout=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var response;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return fetch(\"http://localhost:8080/patientlogout\",{method:'POST'});case 3:response=_context2.sent;if(response.status===200){setMessage('Logged out successfully');window.location.href='/patlogin';}else if(response.status===401){setMessage('No user is currently logged in');}else{setMessage('An error occurred');}_context2.next=10;break;case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](0);setMessage('An error occurred');case 10:case\"end\":return _context2.stop();}},_callee2,null,[[0,7]]);}));return function handleLogout(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{id:\"navbar\",children:/*#__PURE__*/_jsxs(\"nav\",{children:[/*#__PURE__*/_jsx(\"ul\",{children:/*#__PURE__*/_jsx(\"li\",{style:{float:'left'},children:/*#__PURE__*/_jsx(Link,{to:\"/patprofile\",children:/*#__PURE__*/_jsx(\"img\",{src:require('../images/DOC LOGO.png'),alt:\"Doc Click Connect\",style:{maxWidth:'100px',maxHeight:'40px',marginRight:'20px',marginLeft:'-50px'}})})})}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/patprofile\",children:\"My Profile\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/editpatprofile\",children:\"Edit Profile\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/patappointments\",children:\"My Appointments\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/docsearch\",children:\"Search Doctors\"})}),/*#__PURE__*/_jsxs(\"li\",{style:{float:'right'},children:[user?/*#__PURE__*/_jsxs(\"span\",{style:{color:\"white\",fontSize:\"15px\"},children:[\"Hello, \",user.user.firstName,\"! \"]}):isError?/*#__PURE__*/_jsx(\"p\",{children:\"Error fetching user profile\"}):/*#__PURE__*/_jsx(\"p\",{children:\"Loading user profile...\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,children:\"Log Out\"}),/*#__PURE__*/_jsx(\"p\",{children:message})]})]})]})});};export default PatientNavBar;","map":{"version":3,"names":["React","useEffect","useState","Link","jsx","_jsx","jsxs","_jsxs","PatientNavBar","_useState","_useState2","_slicedToArray","message","setMessage","_useState3","_useState4","user","setUser","_useState5","_useState6","isError","setIsError","fetchUser","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","data","wrap","_callee$","_context","prev","next","fetch","sent","ok","json","t0","console","error","stop","apply","arguments","handleLogout","_ref2","_callee2","_callee2$","_context2","method","status","window","location","href","id","children","style","float","to","src","require","alt","maxWidth","maxHeight","marginRight","marginLeft","color","fontSize","firstName","onClick"],"sources":["D:/3rd Year 1st Sem/DocClickConnect/appointment/src/components/PatientNavBar.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport \"../styles/Profile.css\";\nimport { Link } from 'react-router-dom';\n\nconst PatientNavBar = () => {\n  const [message, setMessage] = useState('');\n  const [user, setUser] = useState(null);\n  const [isError, setIsError] = useState(false);\n\n  useEffect(() => {\n        fetchUser();\n      }, []);\n\n  const fetchUser = async () => {\n      try {\n        const response = await fetch(\"http://localhost:8080/patientprofile\");\n        if (response.ok) {\n          const data = await response.json();\n          setUser(data);\n        } else {\n          setIsError(true);\n        }\n      } catch (error) {\n        console.error('Error fetching user:', error);\n        setIsError(true);\n      }\n  };\n  \n  const handleLogout = async () => {\n    try {\n        const response = await fetch(\"http://localhost:8080/patientlogout\", {\n        method: 'POST',\n        });\n\n        if (response.status === 200) {\n        setMessage('Logged out successfully');\n        window.location.href = '/patlogin';\n        } else if (response.status === 401) {\n        setMessage('No user is currently logged in');\n        } else {\n        setMessage('An error occurred');\n        }\n    } catch (error) {\n        setMessage('An error occurred');\n    }\n  };\n\n\n\n\n  return (\n    <div id=\"navbar\">\n    <nav>\n      <ul>\n        <li style={{ float: 'left' }}>\n            <Link to=\"/patprofile\">\n            <img\n              src={require('../images/DOC LOGO.png')}\n              alt=\"Doc Click Connect\"\n              style={{ maxWidth: '100px', maxHeight: '40px', marginRight: '20px', marginLeft: '-50px' }}\n            /></Link>\n        </li>\n      </ul>\n      <ul>\n        <li><Link to=\"/patprofile\">My Profile</Link></li>\n        <li><Link to=\"/editpatprofile\">Edit Profile</Link></li>\n        <li><Link to=\"/patappointments\">My Appointments</Link></li>\n        <li><Link to=\"/docsearch\">Search Doctors</Link></li>\n        <li style={{ float: 'right' }}>\n          {user ? (\n            <span style={{ color: \"white\", fontSize: \"15px\" }}>Hello, {user.user.firstName}! </span>\n          ) : (\n            isError ? (\n              <p>Error fetching user profile</p>\n            ) : (\n              <p>Loading user profile...</p>\n            )\n          )}\n          <button onClick={handleLogout}>Log Out</button>\n          <p>{message}</p>\n        </li>\n      </ul>\n    </nav>\n  </div>\n  )\n}\n\nexport default PatientNavBar\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}